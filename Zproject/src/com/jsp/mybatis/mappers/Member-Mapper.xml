<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="Member-Mapper">

	<select id="selectMemberList" resultType="member">
		select *
		from member2
		order by regDate desc
	</select>
	
	
	<select id="selectMemberById" parameterType="str" resultType="member">
		select
		*
		from member2
		where id=#{id}
	</select>
	
	
	<select id="insertMemberVO" parameterType="com.jsp.dto.MemberVO" resultType="int">
		insert into member2 (
		    id,
		    pwd,
		    email,
		    phone,
		    name,
		    address
		) values (
		    #{id},
		    #{pwd},
		    #{email},
		    #{phone},
		    #{name},
		    #{address}
		)
	</select>
	<update id="updateMember" parameterType="com.jsp.dto.MemberVO">
		update member2
		set 
		regDate=regDate
		<if test="pwd != null">,pwd=#{pwd}</if>
	    <if test="name != null">,name=#{name}</if>
	    <if test="phone != null">,phone=#{phone}</if>
	    <if test="email != null">,email=#{email}</if>
	    <if test="address != null">,address=#{address}</if>
	    <if test="picture != null"> ,picture=#{picture}</if>
	    <if test="regDate != null"> ,regDate=#{regDate}</if>
	    <if test="authority != null"> ,authority= #{authority}</if> 
	    <if test="enabled != null"> ,enabled=#{enabled}</if> 
	    <if test="register != null"> ,register=#{register}</if>
	    where id = #{id}
	</update>
	<update id="deleteMember" parameterType="str" >
		delete 
		from member2
		where id=#{id}		
	</update>
</mapper>